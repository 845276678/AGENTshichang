/**
 * åˆ›æ„å®Œå–„å·¥ä½œåŠ - ç»´åº¦é…ç½®å’ŒPromptæ¨¡æ¿
 *
 * ç”¨é€”ï¼šå®šä¹‰6ä¸ªç»´åº¦çš„å¯¹è¯è½®æ¬¡ã€é—®é¢˜æ¨¡æ¿å’ŒAIå¼•å¯¼ç­–ç•¥
 * å…³è”æ–‡æ¡£ï¼šdocs/åˆ›æ„å®Œå–„å·¥ä½œåŠ-frontendDesignç»´åº¦è¡¥å…….md
 */

import type { FrontendDesign, ProductDetails } from '@/types/idea-refinement'

// ============================================
// ç»´åº¦é…ç½®
// ============================================

export interface DimensionConfig {
  id: string
  name: string
  icon: string
  description: string
  rounds: number
  fields: string[]
}

/**
 * 6ä¸ªç»´åº¦çš„å®Œæ•´é…ç½®
 */
export const REFINEMENT_DIMENSIONS: DimensionConfig[] = [
  {
    id: 'targetUser',
    name: 'ç›®æ ‡ç”¨æˆ·ç”»åƒ',
    icon: 'ğŸ‘¥',
    description: 'æ˜ç¡®äº§å“çš„ç›®æ ‡ç”¨æˆ·ç¾¤ä½“ã€å…¸å‹ç”»åƒã€æ ¸å¿ƒç—›ç‚¹å’Œä½¿ç”¨åœºæ™¯',
    rounds: 5,
    fields: ['userGroup', 'typicalPersona', 'corePainPoints', 'usageScenarios']
  },
  {
    id: 'businessModel',
    name: 'å•†ä¸šæ¨¡å¼',
    icon: 'ğŸ’°',
    description: 'è®¾è®¡å¯æŒç»­çš„ç›ˆåˆ©æ¨¡å¼ã€å®šä»·ç­–ç•¥å’Œæˆæœ¬ç»“æ„',
    rounds: 5,
    fields: ['revenueModel', 'pricingStrategy', 'costStructure', 'profitProjection']
  },
  {
    id: 'marketAnalysis',
    name: 'å¸‚åœºåˆ†æ',
    icon: 'ğŸ“Š',
    description: 'åˆ†æå¸‚åœºè§„æ¨¡ã€ç›®æ ‡å¸‚åœºã€ç«äº‰æ€åŠ¿å’Œå¸‚åœºæœºä¼š',
    rounds: 5,
    fields: ['marketSize', 'targetMarket', 'marketTrends', 'opportunities']
  },
  {
    id: 'competitiveAdvantage',
    name: 'ç«äº‰ä¼˜åŠ¿',
    icon: 'ğŸ†',
    description: 'è¯†åˆ«æ ¸å¿ƒç«äº‰åŠ›ã€å·®å¼‚åŒ–ä¼˜åŠ¿å’Œè¿›å…¥å£å’',
    rounds: 5,
    fields: ['competitors', 'coreCompetencies', 'differentiation', 'entryBarriers']
  },
  {
    id: 'productDetails',
    name: 'äº§å“/æœåŠ¡è¯¦æƒ…',
    icon: 'ğŸ“¦',
    description: 'è¯¦ç»†æè¿°äº§å“åŠŸèƒ½ã€æŠ€æœ¯è·¯çº¿ã€å¼€å‘è®¡åˆ’å’Œå‰ç«¯UIè®¾è®¡',
    rounds: 6, // ğŸ†• ä»5è½®æ‰©å±•åˆ°6è½®
    fields: ['summary', 'coreFeatures', 'technicalApproach', 'timeline', 'resources', 'frontendDesign']
  },
  {
    id: 'implementation',
    name: 'å®æ–½è·¯å¾„',
    icon: 'ğŸš€',
    description: 'åˆ¶å®šå®æ–½è®¡åˆ’ã€é‡Œç¨‹ç¢‘ã€é£é™©è¯„ä¼°å’Œèµ„æºéœ€æ±‚',
    rounds: 5,
    fields: ['milestones', 'risks', 'resources']
  }
]

// ============================================
// AI Promptæ¨¡æ¿ - ç»´åº¦1ï¼šç›®æ ‡ç”¨æˆ·ç”»åƒ
// ============================================

export const TARGET_USER_PROMPTS = {
  systemPrompt: `ä½ æ˜¯åˆ›æ„å®Œå–„å·¥ä½œåŠçš„AIæ•™ç»ƒï¼Œä¸“é—¨å¸®åŠ©åˆ›ä¸šè€…æ˜ç¡®äº§å“çš„ç›®æ ‡ç”¨æˆ·ã€‚

ä½ çš„å¼•å¯¼åŸåˆ™ï¼š
1. åŸºäºThe Mom Testæ–¹æ³•ï¼Œé¿å…å¼•å¯¼æ€§é—®é¢˜
2. æ·±å…¥æŒ–æ˜çœŸå®ç”¨æˆ·ç—›ç‚¹ï¼Œè€Œéå‡è®¾æ€§éœ€æ±‚
3. å¸®åŠ©åˆ›ä¸šè€…æç»˜å…·ä½“çš„ç”¨æˆ·ç”»åƒï¼Œè€Œéå®½æ³›çš„äººç¾¤
4. å¼•å¯¼æ€è€ƒçœŸå®çš„ä½¿ç”¨åœºæ™¯ï¼Œè€Œéç†æƒ³åŒ–åœºæ™¯

å¯¹è¯ç­–ç•¥ï¼š
- å¤šç”¨å¼€æ”¾å¼é—®é¢˜ï¼š"èƒ½å…·ä½“æè¿°ä¸€ä¸‹...å—ï¼Ÿ"
- è¿½é—®ç»†èŠ‚ï¼š"æ‚¨æåˆ°çš„XXé—®é¢˜ï¼Œç”¨æˆ·ç›®å‰æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ"
- æŒ‘æˆ˜å‡è®¾ï¼š"ä¸ºä»€ä¹ˆæ‚¨è®¤ä¸ºè¿™ç±»ç”¨æˆ·ä¼šæœ‰è¿™ä¸ªéœ€æ±‚ï¼Ÿ"
- æ€»ç»“ç¡®è®¤ï¼š"æˆ‘ç†è§£çš„ç”¨æˆ·ç”»åƒæ˜¯...ï¼Œå¯¹å—ï¼Ÿ"`,

  round1: `ç°åœ¨å¼€å§‹ã€ç›®æ ‡ç”¨æˆ·ç”»åƒã€‘ç»´åº¦çš„ç¬¬1è½®å¯¹è¯ã€‚

è¯·ç”¨ç®€å•çš„è¯­è¨€æè¿°ï¼š
1. æ‚¨çš„äº§å“ä¸»è¦æœåŠ¡äºå“ªç±»äººç¾¤ï¼Ÿï¼ˆå¹´é¾„ã€èŒä¸šã€æ”¶å…¥æ°´å¹³ç­‰ï¼‰
2. ä»–ä»¬æœ‰ä»€ä¹ˆå…±åŒç‰¹å¾ï¼Ÿ

ç¤ºä¾‹å›ç­”ï¼š
"ä¸»è¦é¢å‘25-40å²çš„ä¸€çº¿åŸå¸‚èŒåœºç™½é¢†ï¼Œæœˆæ”¶å…¥8k-20kï¼Œå·¥ä½œå‹åŠ›å¤§ä½†æ³¨é‡ç”Ÿæ´»å“è´¨"`,

  round2: `ç¬¬2è½®å¯¹è¯ï¼šæ·±å…¥äº†è§£å…¸å‹ç”¨æˆ·ã€‚

è¯·æè¿°ä¸€ä¸ªæœ€å…¸å‹çš„ç”¨æˆ·æ¡ˆä¾‹ï¼š
1. ä»–/å¥¹çš„æ—¥å¸¸ç”Ÿæ´»æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ
2. å·¥ä½œå†…å®¹ã€å®¶åº­çŠ¶å†µã€å…´è¶£çˆ±å¥½ç­‰
3. è¿™ä¸ªäººä¸ºä»€ä¹ˆä¼šéœ€è¦æ‚¨çš„äº§å“ï¼Ÿ

å°½é‡æè¿°ä¸€ä¸ªçœŸå®å­˜åœ¨çš„äººï¼ˆå¯ä»¥åŒ¿åï¼‰ï¼Œè€Œä¸æ˜¯æƒ³è±¡ä¸­çš„"ç†æƒ³ç”¨æˆ·"ã€‚`,

  round3: `ç¬¬3è½®å¯¹è¯ï¼šæŒ–æ˜æ ¸å¿ƒç—›ç‚¹ã€‚

è¯·åˆ—ä¸¾3-5ä¸ªç›®æ ‡ç”¨æˆ·å½“å‰é‡åˆ°çš„çœŸå®ç—›ç‚¹ï¼š
1. ä»–ä»¬åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä¼šé‡åˆ°è¿™äº›é—®é¢˜ï¼Ÿ
2. è¿™äº›é—®é¢˜ç»™ä»–ä»¬å¸¦æ¥äº†ä»€ä¹ˆå›°æ‰°ï¼Ÿ
3. ä»–ä»¬ç›®å‰æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿæ•ˆæœå¦‚ä½•ï¼Ÿ

æ³¨æ„ï¼šç—›ç‚¹å¿…é¡»æ˜¯çœŸå®å­˜åœ¨çš„ï¼Œä¸æ˜¯æ‚¨å‡è®¾çš„ã€‚`,

  round4: `ç¬¬4è½®å¯¹è¯ï¼šå…·ä½“ä½¿ç”¨åœºæ™¯ã€‚

è¯·æè¿°2-3ä¸ªç”¨æˆ·ä½¿ç”¨æ‚¨äº§å“çš„å…¸å‹åœºæ™¯ï¼š
1. ç”¨æˆ·åœ¨ä»€ä¹ˆæ—¶é—´ã€åœ°ç‚¹ä½¿ç”¨ï¼Ÿ
2. ä½¿ç”¨çš„è§¦å‘åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ
3. ä½¿ç”¨åèƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ
4. é¢‘ç‡å¦‚ä½•ï¼Ÿï¼ˆæ¯å¤©ã€æ¯å‘¨ã€å¶å°”ï¼Ÿï¼‰`,

  round5: `ç¬¬5è½®å¯¹è¯ï¼šæ€»ç»“ç¡®è®¤ã€‚

æˆ‘å°†æ ¹æ®æ‚¨çš„å›ç­”ç”Ÿæˆä¸€ä»½ã€ç›®æ ‡ç”¨æˆ·ç”»åƒã€‘æ€»ç»“ï¼Œè¯·ç¡®è®¤æ˜¯å¦å‡†ç¡®ï¼š

**ç”¨æˆ·ç¾¤ä½“**ï¼š{ä»round1æå–}
**å…¸å‹ç”»åƒ**ï¼š{ä»round2æå–}
**æ ¸å¿ƒç—›ç‚¹**ï¼š{ä»round3æå–}
**ä½¿ç”¨åœºæ™¯**ï¼š{ä»round4æå–}

å¦‚æœæœ‰éœ€è¦è¡¥å……æˆ–ä¿®æ”¹çš„åœ°æ–¹ï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚`
}

// ============================================
// AI Promptæ¨¡æ¿ - ç»´åº¦5ï¼šäº§å“/æœåŠ¡è¯¦æƒ…
// ============================================

export const PRODUCT_DETAILS_PROMPTS = {
  systemPrompt: `ä½ æ˜¯åˆ›æ„å®Œå–„å·¥ä½œåŠçš„AIæ•™ç»ƒï¼Œä¸“é—¨å¸®åŠ©åˆ›ä¸šè€…ç»†åŒ–äº§å“åŠŸèƒ½å’ŒæŠ€æœ¯å®ç°æ–¹æ¡ˆã€‚

ä½ çš„å¼•å¯¼åŸåˆ™ï¼š
1. å¸®åŠ©åˆ›ä¸šè€…èšç„¦MVPï¼ˆæœ€å°å¯è¡Œäº§å“ï¼‰ï¼Œé¿å…åŠŸèƒ½è¿‡åº¦è®¾è®¡
2. å¼•å¯¼æ€è€ƒæŠ€æœ¯å®ç°çš„å¯è¡Œæ€§å’Œæˆæœ¬
3. ç¡®ä¿æŠ€æœ¯é€‰å‹ä¸å›¢é˜Ÿèƒ½åŠ›åŒ¹é…
4. æ”¶é›†å‰ç«¯UIè®¾è®¡éœ€æ±‚ï¼Œä¸ºMVPå¯è§†åŒ–å·¥ä½œåŠåšå‡†å¤‡

å¯¹è¯ç­–ç•¥ï¼š
- é¼“åŠ±ä¼˜å…ˆçº§æ’åºï¼š"å“ªäº›åŠŸèƒ½æ˜¯å¿…é¡»çš„ï¼Ÿå“ªäº›å¯ä»¥åæœŸæ·»åŠ ï¼Ÿ"
- æŒ‘æˆ˜å¤æ‚åº¦ï¼š"è¿™ä¸ªåŠŸèƒ½æ˜¯å¦å¯ä»¥ç®€åŒ–å®ç°ï¼Ÿ"
- å…³æ³¨å¯è¡Œæ€§ï¼š"æ‚¨æˆ–æ‚¨çš„å›¢é˜Ÿæœ‰ç›¸å…³æŠ€æœ¯èƒŒæ™¯å—ï¼Ÿ"`,

  round1: `ç°åœ¨å¼€å§‹ã€äº§å“/æœåŠ¡è¯¦æƒ…ã€‘ç»´åº¦çš„ç¬¬1è½®å¯¹è¯ã€‚

è¯·ç”¨ä¸€æ®µè¯æ€»ä½“æè¿°æ‚¨çš„äº§å“ï¼š
1. äº§å“æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆç½‘ç«™ã€Appã€SaaSå¹³å°ç­‰ï¼‰
2. æ ¸å¿ƒä»·å€¼æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆç”¨ä¸€å¥è¯è¯´æ˜"å¸®ç”¨æˆ·åšä»€ä¹ˆ"ï¼‰
3. ä¸ç°æœ‰åŒç±»äº§å“çš„ä¸»è¦åŒºåˆ«ï¼Ÿ`,

  round2: `ç¬¬2è½®å¯¹è¯ï¼šåˆ—ä¸¾æ ¸å¿ƒåŠŸèƒ½ã€‚

è¯·åˆ—å‡º3-5ä¸ªäº§å“çš„æ ¸å¿ƒåŠŸèƒ½ï¼ˆMVPé˜¶æ®µå¿…é¡»å®ç°çš„ï¼‰ï¼š
1. åŠŸèƒ½1ï¼š{åç§°} - {å…·ä½“åšä»€ä¹ˆ}
2. åŠŸèƒ½2ï¼š...
3. åŠŸèƒ½3ï¼š...

å¯¹æ¯ä¸ªåŠŸèƒ½ï¼Œç®€è¦è¯´æ˜ï¼š
- ç”¨æˆ·å¦‚ä½•ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Ÿ
- è¿™ä¸ªåŠŸèƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ`,

  round3: `ç¬¬3è½®å¯¹è¯ï¼šæŠ€æœ¯è·¯çº¿é€‰æ‹©ã€‚

è¯·è¯´æ˜æ‚¨çš„æŠ€æœ¯è·¯çº¿è®¡åˆ’ï¼š

**å‰ç«¯æŠ€æœ¯**ï¼š
- æ¡†æ¶ï¼šReact / Vue / Next.js / å…¶ä»–ï¼Ÿ
- ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ¡†æ¶ï¼Ÿ

**åç«¯æŠ€æœ¯**ï¼š
- è¯­è¨€ï¼šNode.js / Python / Java / å…¶ä»–ï¼Ÿ
- æ•°æ®åº“ï¼šPostgreSQL / MySQL / MongoDB / å…¶ä»–ï¼Ÿ

**éƒ¨ç½²æ–¹å¼**ï¼š
- Vercel / AWS / é˜¿é‡Œäº‘ / è‡ªå»ºæœåŠ¡å™¨ï¼Ÿ

å¦‚æœæ‚¨è¿˜ä¸ç¡®å®šï¼Œå¯ä»¥è¯´æ˜æ‚¨çš„æŠ€æœ¯èƒŒæ™¯ï¼Œæˆ‘ä¼šç»™å‡ºå»ºè®®ã€‚`,

  round4: `ç¬¬4è½®å¯¹è¯ï¼šå¼€å‘æ—¶é—´è¡¨ã€‚

è¯·è§„åˆ’æ‚¨çš„å¼€å‘é‡Œç¨‹ç¢‘ï¼š

**MVPå¼€å‘é˜¶æ®µ**ï¼ˆå¤šä¹…å®Œæˆï¼Ÿï¼‰
- å‰ç«¯å¼€å‘ï¼šXå‘¨
- åç«¯å¼€å‘ï¼šXå‘¨
- æµ‹è¯•å’Œä¼˜åŒ–ï¼šXå‘¨

**é¢„è®¡ä¸Šçº¿æ—¶é—´**ï¼šXæœˆXæ—¥
**åˆæœŸç”¨æˆ·ç›®æ ‡**ï¼šå¤šå°‘ç”¨æˆ·ï¼Ÿ

å¦‚æœæ˜¯å…¼èŒå¼€å‘ï¼Œè¯·è¯´æ˜æ¯å‘¨èƒ½æŠ•å…¥å¤šå°‘æ—¶é—´ã€‚`,

  round5: `ç¬¬5è½®å¯¹è¯ï¼šæ‰€éœ€èµ„æºã€‚

è¯·è¯´æ˜å¼€å‘æ‰€éœ€çš„èµ„æºï¼š

**äººåŠ›èµ„æº**ï¼š
- æ‚¨è‡ªå·±è´Ÿè´£ä»€ä¹ˆï¼Ÿï¼ˆäº§å“ã€å¼€å‘ã€è¿è¥ï¼Ÿï¼‰
- æ˜¯å¦éœ€è¦æ‹›å‹Ÿå›¢é˜Ÿæˆå‘˜ï¼Ÿéœ€è¦ä»€ä¹ˆæŠ€èƒ½ï¼Ÿ

**èµ„é‡‘éœ€æ±‚**ï¼š
- åˆæœŸé¢„ç®—å¤§æ¦‚å¤šå°‘ï¼Ÿ
- ä¸»è¦èŠ±è´¹åœ¨å“ªäº›æ–¹é¢ï¼Ÿï¼ˆæœåŠ¡å™¨ã€å¼€å‘å·¥å…·ã€è¥é”€ï¼Ÿï¼‰

**åˆä½œä¼™ä¼´**ï¼š
- æ˜¯å¦éœ€è¦å¯»æ‰¾åˆä½œä¼™ä¼´ï¼Ÿï¼ˆæŠ€æœ¯ã€å¸‚åœºã€èµ„é‡‘ï¼Ÿï¼‰`,

  // ğŸ†• æ–°å¢ç¬¬6è½®ï¼šæ”¶é›†å‰ç«¯UIè®¾è®¡éœ€æ±‚
  round6: `ç¬¬6è½®å¯¹è¯ï¼šå‰ç«¯UIè®¾è®¡éœ€æ±‚ï¼ˆğŸ†• ä¸ºMVPå¯è§†åŒ–å·¥ä½œåŠå‡†å¤‡ï¼‰

ç°åœ¨æˆ‘ä»¬æ¥æ˜ç¡®äº§å“çš„å‰ç«¯ç•Œé¢è®¾è®¡éœ€æ±‚ï¼Œè¿™å°†å¸®åŠ©åç»­çš„MVPå¯è§†åŒ–å·¥ä½œåŠå¿«é€Ÿç”ŸæˆåŸå‹ã€‚

è¯·å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š

**1. é¡µé¢ç»“æ„**
- æ‚¨çš„äº§å“ä¸»è¦æœ‰å“ªäº›é¡µé¢ï¼Ÿï¼ˆé¦–é¡µã€åˆ—è¡¨é¡µã€è¯¦æƒ…é¡µã€ç”¨æˆ·ä¸­å¿ƒç­‰ï¼‰
- æ¯ä¸ªé¡µé¢çš„åŸºæœ¬å¸ƒå±€æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆé¡¶éƒ¨å¯¼èˆªæ ã€ä¾§è¾¹æ ã€ä¸»å†…å®¹åŒºã€åº•éƒ¨ä¿¡æ¯ç­‰ï¼‰

**2. æ ¸å¿ƒäº¤äº’**
- ç”¨æˆ·åœ¨ç•Œé¢ä¸Šéœ€è¦å®Œæˆå“ªäº›å…³é”®æ“ä½œï¼Ÿ
  - ç™»å½•/æ³¨å†Œï¼Ÿ
  - æœç´¢/ç­›é€‰ï¼Ÿ
  - åˆ›å»º/ç¼–è¾‘å†…å®¹ï¼Ÿ
  - æ”¯ä»˜/ä¸‹å•ï¼Ÿ
  - å…¶ä»–ï¼Ÿ

**3. è§†è§‰é£æ ¼**
- é…è‰²åå¥½ï¼šç§‘æŠ€è“ã€å•†åŠ¡ç°ã€æ´»åŠ›æ©™ã€æ¸…æ–°ç»¿ã€å…¶ä»–ï¼Ÿ
- å­—ä½“é£æ ¼ï¼šç°ä»£ç®€çº¦ã€ä¼ ç»Ÿæ­£å¼ã€åˆ›æ„ä¸ªæ€§ã€å…¶ä»–ï¼Ÿ
- å¸ƒå±€æ–¹å¼ï¼šå•æ ã€åŒæ ã€å¡ç‰‡å¼ã€ç½‘æ ¼å¼ã€å…¶ä»–ï¼Ÿ

**4. ç›®æ ‡è®¾å¤‡**
- ä¸»è¦åœ¨ä»€ä¹ˆè®¾å¤‡ä½¿ç”¨ï¼Ÿæ¡Œé¢ç«¯ã€å¹³æ¿ã€æ‰‹æœºï¼Ÿ
- æ˜¯å¦éœ€è¦å“åº”å¼è®¾è®¡ï¼ˆè‡ªé€‚åº”ä¸åŒå±å¹•ï¼‰ï¼Ÿ

**5. å‚è€ƒæ¡ˆä¾‹**
- æœ‰æ²¡æœ‰ç‰¹åˆ«å–œæ¬¢çš„ç½‘ç«™æˆ–åº”ç”¨è®¾è®¡ï¼Ÿï¼ˆå¦‚ï¼šæ·˜å®é¦–é¡µã€Notionç•Œé¢ã€é£ä¹¦å·¥ä½œå°ç­‰ï¼‰
- å“ªäº›è®¾è®¡å…ƒç´ æ‚¨æƒ³è¦å‚è€ƒï¼Ÿ

ç¤ºä¾‹å›ç­”ï¼š
"ä¸»è¦æ˜¯æ¡Œé¢ç«¯ä½¿ç”¨çš„SaaSå¹³å°ï¼Œç•Œé¢é£æ ¼å‚è€ƒNotionçš„ç®€æ´è®¾è®¡ã€‚é¦–é¡µåŒ…å«é¡¶éƒ¨å¯¼èˆªæ ã€å·¦ä¾§é¡¹ç›®åˆ—è¡¨ã€ä¸­é—´å·¥ä½œåŒºã€å³ä¾§å±æ€§é¢æ¿ã€‚é…è‰²ä½¿ç”¨ç§‘æŠ€è“+ç™½è‰²ï¼Œç°ä»£ç®€çº¦é£æ ¼ã€‚æ ¸å¿ƒäº¤äº’åŒ…æ‹¬ç™»å½•ã€åˆ›å»ºé¡¹ç›®ã€æ‹–æ‹½æ’åºã€å®æ—¶åä½œç­‰ã€‚"`,

  summary: `æ„Ÿè°¢æ‚¨å®Œæˆã€äº§å“/æœåŠ¡è¯¦æƒ…ã€‘ç»´åº¦çš„å…¨éƒ¨6è½®å¯¹è¯ï¼

æˆ‘å·²ç»æ”¶é›†äº†ï¼š
âœ… äº§å“æ€»ä½“æè¿°
âœ… æ ¸å¿ƒåŠŸèƒ½åˆ—è¡¨
âœ… æŠ€æœ¯è·¯çº¿é€‰æ‹©
âœ… å¼€å‘æ—¶é—´è¡¨
âœ… èµ„æºéœ€æ±‚
âœ… å‰ç«¯UIè®¾è®¡éœ€æ±‚ ğŸ†•

è¿™äº›ä¿¡æ¯å°†ç”¨äºï¼š
1. ç”Ÿæˆè¯¦ç»†çš„äº§å“è§„åˆ’æ–‡æ¡£
2. ä¸ºMVPå¯è§†åŒ–å·¥ä½œåŠæä¾›å‰ç«¯è®¾è®¡è¾“å…¥
3. å¸®åŠ©æ‚¨æ›´æ¸…æ™°åœ°å‘å›¢é˜Ÿæˆ–æŠ•èµ„äººå±•ç¤ºäº§å“

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›å…¥ç¬¬6ä¸ªç»´åº¦ï¼šã€å®æ–½è·¯å¾„ã€‘ã€‚`
}

// ============================================
// frontendDesignæ•°æ®æå–é€»è¾‘
// ============================================

/**
 * ä»ç¬¬6è½®å¯¹è¯ä¸­æå–frontendDesignæ•°æ®
 * ä½¿ç”¨AIè¿›è¡Œç»“æ„åŒ–æå–
 */
export const extractFrontendDesignPrompt = (userResponse: string) => `
ä½ æ˜¯æ•°æ®æå–ä¸“å®¶ï¼Œè´Ÿè´£ä»ç”¨æˆ·çš„å›ç­”ä¸­æå–ç»“æ„åŒ–çš„å‰ç«¯è®¾è®¡éœ€æ±‚ã€‚

ç”¨æˆ·çš„åŸå§‹å›ç­”ï¼š
"""
${userResponse}
"""

è¯·æå–ä»¥ä¸‹ä¿¡æ¯ï¼Œä»¥JSONæ ¼å¼è¿”å›ï¼š

{
  "pageStructure": "é¡µé¢ç»“æ„æè¿°",
  "coreInteractions": ["äº¤äº’1", "äº¤äº’2", "äº¤äº’3"],
  "visualStyle": {
    "colorScheme": "é…è‰²æ–¹æ¡ˆ",
    "typography": "å­—ä½“é£æ ¼",
    "layout": "å¸ƒå±€æ–¹å¼"
  },
  "targetDevices": ["è®¾å¤‡1", "è®¾å¤‡2"],
  "referenceExamples": "å‚è€ƒæ¡ˆä¾‹æè¿°"
}

æå–è§„åˆ™ï¼š
1. pageStructureï¼šæ€»ç»“ä¸»è¦é¡µé¢å’Œå¸ƒå±€ç»“æ„ï¼Œç”¨ç®€æ´çš„è¯­è¨€æè¿°
2. coreInteractionsï¼šåˆ—å‡ºç”¨æˆ·æåˆ°çš„æ‰€æœ‰äº¤äº’æ“ä½œï¼Œæ¯é¡¹ç”¨ç®€çŸ­çš„è¯æ±‡è¡¨ç¤º
3. visualStyleï¼šæå–é…è‰²ã€å­—ä½“ã€å¸ƒå±€çš„å…·ä½“æè¿°
4. targetDevicesï¼šä»ç”¨æˆ·å›ç­”ä¸­è¯†åˆ«ç›®æ ‡è®¾å¤‡ï¼ˆæ¡Œé¢ç«¯ã€å¹³æ¿ã€ç§»åŠ¨ç«¯ï¼‰
5. referenceExamplesï¼šæ€»ç»“ç”¨æˆ·æåˆ°çš„å‚è€ƒæ¡ˆä¾‹æˆ–è®¾è®¡é£æ ¼

å¦‚æœç”¨æˆ·æ²¡æœ‰æ˜ç¡®æåˆ°æŸé¡¹ï¼Œä½¿ç”¨åˆç†çš„æ¨æ–­å¡«å……ï¼Œå¹¶æ ‡æ³¨"ï¼ˆæ¨æ–­ï¼‰"ã€‚

åªè¿”å›JSONï¼Œä¸è¦å…¶ä»–è§£é‡Šã€‚
`

/**
 * æ¨æ–­frontendDesignæ•°æ®ï¼ˆå‘åå…¼å®¹æ—§æ•°æ®ï¼‰
 * ç”¨äºæ²¡æœ‰ç¬¬6è½®å¯¹è¯çš„æ—§ç‰ˆæ–‡æ¡£
 */
export function inferFrontendDesignFromProductDetails(
  productDetails: Partial<ProductDetails>
): FrontendDesign {
  // åŸºäºäº§å“æ€»ä½“æè¿°å’Œæ ¸å¿ƒåŠŸèƒ½æ¨æ–­åŸºæœ¬çš„å‰ç«¯éœ€æ±‚
  const summary = productDetails.summary || ''
  const features = productDetails.coreFeatures || []

  return {
    pageStructure: summary.includes('å¹³å°') || summary.includes('SaaS')
      ? 'é¡¶éƒ¨å¯¼èˆªæ  + ä¾§è¾¹æ  + ä¸»å†…å®¹åŒº + åº•éƒ¨ä¿¡æ¯'
      : 'é¡¶éƒ¨å¯¼èˆªæ  + ä¸»å†…å®¹åŒº + åº•éƒ¨ä¿¡æ¯',

    coreInteractions: features.map(f =>
      f.includes('ç™»å½•') ? 'ç”¨æˆ·ç™»å½•æ³¨å†Œ' :
      f.includes('æœç´¢') ? 'æœç´¢ç­›é€‰åŠŸèƒ½' :
      f.includes('åˆ›å»º') ? 'åˆ›å»ºå†…å®¹è¡¨å•' :
      f.includes('æ”¯ä»˜') ? 'æ”¯ä»˜ä¸‹å•æµç¨‹' :
      `${f}åŠŸèƒ½`
    ),

    visualStyle: {
      colorScheme: summary.includes('ç§‘æŠ€') ? 'è“è‰²ç§‘æŠ€é£' :
                   summary.includes('æ•™è‚²') ? 'ç»¿è‰²æ¸…æ–°é£' :
                   summary.includes('ç”µå•†') ? 'æ©™è‰²æ´»åŠ›é£' :
                   'ç°ä»£ç®€çº¦é£',
      typography: 'ç°ä»£ç®€çº¦',
      layout: 'å•æ å¸ƒå±€'
    },

    targetDevices: ['æ¡Œé¢ç«¯'],

    referenceExamples: 'ï¼ˆå¾…è¡¥å……ï¼‰åŸºäºäº§å“ç±»å‹æ¨æ–­'
  }
}

// ============================================
// å…¶ä»–ç»´åº¦çš„Promptï¼ˆç®€åŒ–ç‰ˆï¼Œå®Œæ•´å®ç°æ—¶è¡¥å……ï¼‰
// ============================================

export const BUSINESS_MODEL_PROMPTS = {
  systemPrompt: `ä½ æ˜¯åˆ›æ„å®Œå–„å·¥ä½œåŠçš„AIæ•™ç»ƒï¼Œä¸“é—¨å¸®åŠ©åˆ›ä¸šè€…è®¾è®¡å¯æŒç»­çš„å•†ä¸šæ¨¡å¼...`,
  round1: `å¼€å§‹ã€å•†ä¸šæ¨¡å¼ã€‘ç»´åº¦çš„ç¬¬1è½®å¯¹è¯...`,
  round2: `...`,
  round3: `...`,
  round4: `...`,
  round5: `...`
}

export const MARKET_ANALYSIS_PROMPTS = {
  systemPrompt: `...`,
  round1: `...`,
  round2: `...`,
  round3: `...`,
  round4: `...`,
  round5: `...`
}

export const COMPETITIVE_ADVANTAGE_PROMPTS = {
  systemPrompt: `...`,
  round1: `...`,
  round2: `...`,
  round3: `...`,
  round4: `...`,
  round5: `...`
}

export const IMPLEMENTATION_PROMPTS = {
  systemPrompt: `...`,
  round1: `...`,
  round2: `...`,
  round3: `...`,
  round4: `...`,
  round5: `...`
}

// ============================================
// Promptè·å–å·¥å…·å‡½æ•°
// ============================================

/**
 * æ ¹æ®ç»´åº¦IDå’Œè½®æ¬¡è·å–å¯¹åº”çš„Prompt
 */
export function getPromptForDimensionRound(
  dimensionId: string,
  round: number
): string {
  const promptMap: Record<string, Record<number, string>> = {
    targetUser: {
      0: TARGET_USER_PROMPTS.systemPrompt,
      1: TARGET_USER_PROMPTS.round1,
      2: TARGET_USER_PROMPTS.round2,
      3: TARGET_USER_PROMPTS.round3,
      4: TARGET_USER_PROMPTS.round4,
      5: TARGET_USER_PROMPTS.round5
    },
    businessModel: {
      0: BUSINESS_MODEL_PROMPTS.systemPrompt,
      1: BUSINESS_MODEL_PROMPTS.round1,
      2: BUSINESS_MODEL_PROMPTS.round2,
      3: BUSINESS_MODEL_PROMPTS.round3,
      4: BUSINESS_MODEL_PROMPTS.round4,
      5: BUSINESS_MODEL_PROMPTS.round5
    },
    marketAnalysis: {
      0: MARKET_ANALYSIS_PROMPTS.systemPrompt,
      1: MARKET_ANALYSIS_PROMPTS.round1,
      2: MARKET_ANALYSIS_PROMPTS.round2,
      3: MARKET_ANALYSIS_PROMPTS.round3,
      4: MARKET_ANALYSIS_PROMPTS.round4,
      5: MARKET_ANALYSIS_PROMPTS.round5
    },
    competitiveAdvantage: {
      0: COMPETITIVE_ADVANTAGE_PROMPTS.systemPrompt,
      1: COMPETITIVE_ADVANTAGE_PROMPTS.round1,
      2: COMPETITIVE_ADVANTAGE_PROMPTS.round2,
      3: COMPETITIVE_ADVANTAGE_PROMPTS.round3,
      4: COMPETITIVE_ADVANTAGE_PROMPTS.round4,
      5: COMPETITIVE_ADVANTAGE_PROMPTS.round5
    },
    productDetails: {
      0: PRODUCT_DETAILS_PROMPTS.systemPrompt,
      1: PRODUCT_DETAILS_PROMPTS.round1,
      2: PRODUCT_DETAILS_PROMPTS.round2,
      3: PRODUCT_DETAILS_PROMPTS.round3,
      4: PRODUCT_DETAILS_PROMPTS.round4,
      5: PRODUCT_DETAILS_PROMPTS.round5,
      6: PRODUCT_DETAILS_PROMPTS.round6 // ğŸ†• æ–°å¢ç¬¬6è½®
    },
    implementation: {
      0: IMPLEMENTATION_PROMPTS.systemPrompt,
      1: IMPLEMENTATION_PROMPTS.round1,
      2: IMPLEMENTATION_PROMPTS.round2,
      3: IMPLEMENTATION_PROMPTS.round3,
      4: IMPLEMENTATION_PROMPTS.round4,
      5: IMPLEMENTATION_PROMPTS.round5
    }
  }

  return promptMap[dimensionId]?.[round] || 'å¯¹ä¸èµ·ï¼Œæ‰¾ä¸åˆ°å¯¹åº”çš„Prompté…ç½®'
}

/**
 * è·å–ç»´åº¦é…ç½®
 */
export function getDimensionConfig(dimensionId: string): DimensionConfig | null {
  return REFINEMENT_DIMENSIONS.find(d => d.id === dimensionId) || null
}

/**
 * è·å–ä¸‹ä¸€ä¸ªç»´åº¦
 */
export function getNextDimension(currentDimensionIndex: number): DimensionConfig | null {
  if (currentDimensionIndex >= REFINEMENT_DIMENSIONS.length - 1) {
    return null // å·²ç»æ˜¯æœ€åä¸€ä¸ªç»´åº¦
  }
  return REFINEMENT_DIMENSIONS[currentDimensionIndex + 1]
}
